<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nai-Nai PRO</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>

    <div class="top-bar">
        <div class="tabs">
            <button class="tab-btn activo" onclick="cambiarTab('comunidad')">Comunidad</button>
            <button class="tab-btn" onclick="cambiarTab('mis-videos')">Mis Videos</button>
            <button class="tab-btn" onclick="cambiarTab('perfil')">Mi Perfil</button>
        </div>
        <div class="tags-scroll" id="barra-etiquetas">
            </div>
    </div>

    <div id="tab-comunidad" class="seccion-app">
        <div id="feed-comunidad" class="feed-container">
            <p style="text-align:center; padding:20px; color:gray;">Cargando Nai-Nai...</p>
        </div>
    </div>

    <div id="tab-mis-videos" class="seccion-app" style="display:none;">
        <div class="mis-videos-header">
            <h3>Gestor de Contenido</h3>
            <p>Sube, edita y borra tus creaciones.</p>
        </div>
        <div id="lista-mis-videos" class="feed-container">
            </div>
        
        <label class="btn-float-upload">
            <i class="fas fa-plus"></i>
            <input type="file" id="input-video-file" accept="video/*" style="display: none;">
        </label>
    </div>

    <div id="tab-perfil" class="seccion-app" style="display:none;">
        <div class="perfil-card">
            <img id="avatar-actual" src="" class="avatar-grande">
            <h2 id="id-usuario-display">Usuario ID: ...</h2>
            <div class="stats">
                <div class="stat-box"><span>GUA</span><b id="gua-puntos">100</b></div>
                <div class="stat-box"><span>Videos</span><b id="num-videos">0</b></div>
            </div>
            <button class="btn-editar-perfil" onclick="abrirSelectorAvatar()">Cambiar Avatar</button>
            <button class="btn-normas" onclick="verReglas()">ðŸ“œ Ver Reglas y Normas</button>
        </div>
        
        <h3 style="padding:10px;">Mi Historial</h3>
        <div id="grid-mis-videos-perfil" class="video-grid">
            </div>
    </div>

    <div id="modal-upload" class="modal">
        <div class="modal-content">
            <h3>Nuevo Video ðŸŽ¬</h3>
            
            <label>Nombre del video:</label>
            <input type="text" id="up-titulo" placeholder="Ej: Lentes Ã©picos">
            
            <label>DescripciÃ³n:</label>
            <textarea id="up-desc" placeholder="CuÃ©ntanos quÃ© pasa..."></textarea>
            
            <label>Etiquetas:</label>
            <select id="up-etiqueta" class="input-select">
                </select>
            
            <div class="config-section">
                <h4>ConfiguraciÃ³n</h4>
                <label><input type="checkbox" id="up-comentarios" checked> Permitir comentarios</label>
                <label><input type="checkbox" id="up-audio" checked> Permitir uso de audio</label>
                
                <label>OrientaciÃ³n:</label>
                <select id="up-orientacion">
                    <option value="horizontal">Horizontal</option>
                    <option value="vertical">Vertical</option>
                    <option value="ambos">Vertical y Horizontal</option>
                </select>

                <label>Â¿El video es tuyo?</label>
                <select id="up-propio" onchange="toggleFuente(this.value)">
                    <option value="si">SÃ­, es mÃ­o</option>
                    <option value="no">No (CrÃ©ditos)</option>
                </select>
                <input type="text" id="up-fuente" placeholder="Pegar link de origen" style="display:none; margin-top:5px;">
            </div>

            <div class="modal-actions">
                <button onclick="cancelarSubida()" class="btn-cancel">Cancelar</button>
                <button onclick="confirmarSubida()" class="btn-confirm">PUBLICAR</button>
            </div>
        </div>
    </div>

    <div id="modal-avatar" class="modal">
        <div class="modal-content">
            <h3>Elige tu identidad</h3>
            <div id="grid-avatars" class="grid-fotos"></div>
            <button onclick="document.getElementById('modal-avatar').style.display='none'" class="btn-cancel" style="margin-top:10px;">Cerrar</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script> 
</body>
</html>
